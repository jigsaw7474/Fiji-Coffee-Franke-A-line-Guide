<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fiji Coffee - Coffee Machines</title>
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(to right bottom, #f0f4f8, #d9e2ec);
            color: #333;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }

        .brand-selection-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 2rem;
            background-color: #fff;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
            max-width: 90vw;
            width: 800px;
            animation: fadeInScale 0.7s ease-out;
            box-sizing: border-box; /* Include padding in width calculation */
            /* Ensure it's centered on the page */
            position: absolute; /* Use absolute positioning for centering */
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .brand-selection-container h1 {
            font-size: 2.8rem;
            font-weight: 700;
            color: #2c5282;
            margin-bottom: 1.5rem;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }

        .fiji-coffee-overview {
            background-color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
            text-align: left;
            width: 100%;
        }

        .fiji-coffee-overview h2 {
            font-size: 1.8rem;
            font-weight: 600;
            color: #3182ce;
            margin-bottom: 1rem;
            border-bottom: 2px solid #a0aec0;
            padding-bottom: 0.5rem;
        }

        .fiji-coffee-overview p {
            line-height: 1.6;
            color: #4a5568;
        }

        .brand-cards-wrapper {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 2rem;
            width: 100%;
        }

        .brand-card {
            background-color: #f7fafc;
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            width: 280px; /* Fixed width for consistent card size */
            text-align: center;
        }

        .brand-card:hover {
            transform: translateY(-8px) scale(1.03);
            border-color: #63b3ed;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .brand-card img {
            width: 150px;
            height: 100px;
            object-fit: contain;
            margin-bottom: 1rem;
            filter: drop-shadow(0 4px 6px rgba(0,0,0,0.1));
        }

        .brand-card h2 {
            font-size: 1.8rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 0.5rem;
        }

        .brand-card a {
            font-size: 0.9rem;
            color: #63b3ed;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .brand-card a:hover {
            color: #3182ce;
            text-decoration: underline;
        }

        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        .main-container {
            display: none; /* Hidden initially */
            width: 100%;
            height: 100vh;
            background-color: #f8fafc;
            padding: 2rem;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            border-radius: 15px;
            overflow-y: auto;
            /* New animation for center fade reveal */
            animation: centerFadeInReveal 0.7s ease-out;
            flex-direction: column; /* Ensure it's a flex column when displayed */
            gap: 20px; /* Space between sections */
            box-sizing: border-box; /* Include padding in width calculation */
            /* Center the main container as well */
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-width: 90vw; /* Keep it responsive */
            max-height: 90vh; /* Keep it responsive */
        }

        /* Updated keyframes for center fade reveal */
        @keyframes centerFadeInReveal {
            from { opacity: 0; transform: translate(-50%, -50%) scale(0.9); }
            to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }

        .header {
            background: linear-gradient(to right, #4c7c8c, #3a627a);
            color: white;
            padding: 1.5rem 2rem;
            border-radius: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
            margin-bottom: 2rem;
            flex-wrap: wrap; /* Allow wrapping on smaller screens */
        }

        .header h1 {
            font-size: 2.2rem;
            font-weight: 700;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
            flex-grow: 1; /* Allow title to take available space */
            text-align: center; /* Center title by default */
        }

        .header .logo-container {
            display: flex;
            align-items: center;
            justify-content: center; /* Center logo horizontally */
            width: 100px; /* Fixed width for logo */
            height: 100px; /* Fixed height for logo */
            background-color: rgba(255, 255, 255, 0.1); /* Placeholder background */
            border-radius: 50%; /* Circular placeholder */
            margin-right: 1.5rem; /* Space between logo and title */
            overflow: hidden; /* Hide overflow if logo is too big */
        }

        .header .logo-container img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain; /* Ensure logo fits within the container */
        }

        .header .website-link {
            font-size: 1.1rem;
            font-weight: 600;
            color: #d1e5f8; /* Lighter color for link */
            text-decoration: none;
            transition: color 0.3s ease;
            margin-left: 1.5rem; /* Space from title */
            white-space: nowrap; /* Prevent breaking */
        }

        .header .website-link:hover {
            color: #ffffff;
            text-decoration: underline;
        }

        .menu-bar {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1.5rem;
            margin-bottom: 2rem;
            background-color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 15px;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.08);
        }

        .menu-button {
            background-color: #63b3ed;
            color: white;
            padding: 0.8rem 1.8rem;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .menu-button:hover {
            background-color: #4299e1;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }

        .menu-button.active {
            background: linear-gradient(45deg, #3182ce, #2c5282);
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.25);
        }

        .content-section {
            background-color: #ffffff;
            padding: 2.5rem;
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            animation: slideInUp 0.6s ease-out;
            display: none; /* Hidden by default */
        }

        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .content-section.active {
            display: block; /* Show active section */
        }

        .content-section h2 {
            font-size: 2rem;
            font-weight: 700;
            color: #2c5282;
            margin-bottom: 1.5rem;
            border-bottom: 3px solid #63b3ed;
            padding-bottom: 0.5rem;
        }

        .content-section h3 {
            font-size: 1.5rem;
            font-weight: 600;
            color: #3182ce;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }

        .content-section h4 {
            font-size: 1.2rem;
            font-weight: 600;
            color: #4a5568;
            margin-top: 1.5rem;
            margin-bottom: 0.8rem;
        }

        .content-section ul {
            list-style: disc;
            margin-left: 20px;
            margin-bottom: 1rem;
        }

        .content-section ol {
            list-style: decimal;
            margin-left: 20px;
            margin-bottom: 1rem;
        }

        .content-section p {
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
        }

        th, td {
            border: 1px solid #cbd5e0;
            padding: 0.8rem 1rem;
            text-align: left;
        }

        th {
            background-color: #edf2f7;
            font-weight: 700;
            color: #2d3748;
        }

        tr:nth-child(even) {
            background-color: #f7fafc;
        }

        /* Machine selection styles */
        .machine-selection {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding: 1rem;
            background-color: #f0f4f8;
            border-radius: 10px;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
        }

        .machine-selection label {
            display: flex;
            align-items: center;
            font-weight: 600;
            color: #2d3748;
            cursor: pointer;
        }

        .machine-selection input[type="checkbox"] {
            margin-right: 0.5rem;
            transform: scale(1.2);
        }

        .machine-details-container > div,
        .installation-manual-container > div,
        .diagnosis-solution-container > div,
        .cleaning-procedures-container > div,
        .parts-modules-container > div {
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            background-color: #fdfdfd;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }

        .machine-details-container > div h3,
        .installation-manual-container > div h3,
        .diagnosis-solution-container > div h3,
        .cleaning-procedures-container > div h3,
        .parts-modules-container > div h3 {
            border-bottom: 2px solid #a0aec0;
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
        }

        /* Specific styles for diagnosis section */
        .error-category-filter {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin-top: 1rem;
            margin-bottom: 1.5rem;
            padding: 0.75rem;
            background-color: #ebf8ff;
            border-radius: 8px;
            border: 1px solid #bee3f8;
        }

        .error-category-filter button {
            background-color: #90cdf4;
            color: #2d3748;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .error-category-filter button:hover {
            background-color: #63b3ed;
            color: white;
        }

        .error-category-filter button.active {
            background-color: #2b6cb0;
            color: white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .error-item {
            margin-bottom: 1.5rem;
            padding: 1rem;
            background-color: #f7fafc;
            border-left: 5px solid #c53030; /* Stronger red border for error items */
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .error-item h4 {
            color: #c53030; /* Error title color */
            margin-bottom: 0.5rem;
        }
        .error-item p {
            margin-bottom: 0.5rem;
        }
        .error-item strong {
            color: #2c5282;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .brand-selection-container {
                padding: 1.5rem;
            }
            .brand-selection-container h1 {
                font-size: 2rem;
            }
            .fiji-coffee-overview h2 {
                font-size: 1.4rem;
            }
            .brand-cards-wrapper {
                flex-direction: column;
                align-items: center;
            }
            .brand-card {
                width: 100%;
                max-width: 280px;
            }
            .header {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }
            .header .logo-container {
                margin-right: 0;
                margin-bottom: 1rem;
                order: 1; /* Move logo to top on mobile */
            }
            .header .website-link {
                margin-left: 0;
                margin-top: 0.5rem; /* Space between title and link on mobile */
                order: 3; /* Move link to bottom on mobile */
            }
            .menu-bar {
                flex-direction: column;
                align-items: stretch;
            }
            .menu-button {
                width: 100%;
                justify-content: center;
            }
            .content-section {
                padding: 1.5rem;
            }
            .content-section h2 {
                font-size: 1.7rem;
            }
            .content-section h3 {
                font-size: 1.3rem;
            }
            .machine-selection label {
                width: 100%; /* Make checkboxes full width on mobile */
            }
        }
    </style>
</head>
<body>

    <!-- Brand Selection Page -->
    <div id="brandSelectionPage" class="brand-selection-container">
        <h1>Select a Brand</h1>
        <div class="fiji-coffee-overview">
            <h2>General Overview of Fiji Coffee</h2>
            <p>
                Fiji Coffee, a proud division of Lawhill Group, has been dedicated to delivering exceptional coffee experiences across Fiji since 1988. We specialize in the importation and distribution of premium coffee machines, including renowned brands like Franke and Dalla Corte, ensuring our clients have access to world-class brewing technology. Beyond equipment, we also supply high-quality coffee beans and a comprehensive range of related products. Our commitment extends to providing unparalleled technical support and service through our dedicated team, ensuring optimal machine performance and customer satisfaction. We aim to be the complete coffee solution provider for businesses of all sizes in Fiji.
            </p>
        </div>
        <div class="brand-cards-wrapper">
            <div class="brand-card" data-brand="Franke">
                <img src="https://github.com/jigsaw7474/Fiji-Coffee-Franke-A-line-Guide/blob/main/Franke.png?raw=true" alt="Franke Logo">
                <h2>Franke</h2>
                <a href="https://www.franke.com/us/en/home.html" target="_blank">franke.com</a>
            </div>
            <div class="brand-card" data-brand="DallaCorte">
                <img src="https://github.com/jigsaw7474/Fiji-Coffee-Franke-A-line-Guide/blob/main/Dalla%20Corte.png?raw=true" alt="Dalla Corte Logo">
                <h2>Dalla Corte</h2>
                <a href="https://www.dallacorte.com/" target="_blank">dallacorte.com</a>
            </div>
        </div>
    </div>

    <!-- Main Content Page -->
    <div id="mainContentPage" class="main-container">
        <div class="header">
            <div class="logo-container">
                <img id="headerBrandLogo" src="" alt="Brand Logo">
            </div>
            <h1>Fiji Coffee - Coffee Machines</h1>
            <a id="headerBrandWebsite" href="#" target="_blank" class="website-link"></a>
        </div>

        <div class="menu-bar">
            <button class="menu-button active" data-target="overview">
                <i class="fas fa-info-circle"></i> General Overview
            </button>
            <button class="menu-button" data-target="machineDetails">
                <i class="fas fa-coffee"></i> Machine Details
            </button>
            <button class="menu-button" data-target="installationManual">
                <i class="fas fa-tools"></i> Installation Manual
            </button>
            <button class="menu-button" data-target="diagnosisSolution">
                <i class="fas fa-wrench"></i> Diagnosis & Solution
            </button>
            <button class="menu-button" data-target="cleaning">
                <i class="fas fa-brush"></i> Cleaning Procedures
            </button>
            <button class="menu-button" data-target="parts">
                <i class="fas fa-cogs"></i> Parts & Modules
            </button>
            <button class="menu-button" data-target="brandSelection" id="backToBrandSelection">
                <i class="fas fa-undo"></i> Back to Brands
            </button>
        </div>

        <!-- Content Sections -->
        <div id="overview" class="content-section active">
            <h2>General Overview</h2>
            <p id="brandOverviewContent">
                <!-- Brand specific overview will be loaded here -->
            </p>
        </div>

        <div id="machineDetails" class="content-section">
            <h2>Machine-Specific Details</h2>
            <div id="machineSelectionCheckboxes" class="machine-selection">
                <!-- Checkboxes will be dynamically loaded here based on brand selection -->
            </div>
            <div id="machineDetailsContent" class="machine-details-container">
                <p class="text-gray-600">Select one or more machines above to view their detailed specifications.</p>
            </div>
        </div>

        <div id="installationManual" class="content-section">
            <h2>Installation Manual</h2>
            <div id="installationSelectionCheckboxes" class="machine-selection">
                <!-- Checkboxes will be dynamically loaded here based on brand selection -->
            </div>
            <div id="installationManualContent" class="installation-manual-container">
                <p class="text-gray-600">Select one or more machines above to view their installation details.</p>
            </div>
        </div>

        <div id="diagnosisSolution" class="content-section">
            <h2>Diagnosis & Solution</h2>
            <p class="text-gray-700">Select one or more machines to view common errors and their troubleshooting steps.</p>
            <div id="diagnosisSelectionCheckboxes" class="machine-selection">
                <!-- Checkboxes will be dynamically loaded here based on brand selection -->
            </div>
            <div id="diagnosisSolutionContent" class="diagnosis-solution-container">
                <p class="text-gray-600">No machine selected. Please select a machine to see common errors.</p>
            </div>
            <div class="mt-8 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md">
                <p class="font-bold">Could not find a solution?</p>
                <p>Please contact our technician team for further assistance:</p>
                <p class="mt-2">Email: <a href="mailto:service1@lawhillfiji.com" class="text-blue-700 underline">service1@lawhillfiji.com</a></p>
                <p>Call: <a href="tel:+6799427297" class="text-blue-700 underline">+679 942 7297</a></p>
            </div>
        </div>

        <div id="cleaning" class="content-section">
            <h2>Cleaning Procedures</h2>
            <div id="cleaningSelectionCheckboxes" class="machine-selection">
                <!-- Checkboxes will be dynamically loaded here based on brand selection -->
            </div>
            <div id="cleaningProceduresContent" class="cleaning-procedures-container">
                <p class="text-gray-600">Select one or more machines above to view their cleaning procedures.</p>
            </div>
        </div>

        <div id="parts" class="content-section">
            <h2>Parts & Modules Summary</h2>
            <div id="partsSelectionCheckboxes" class="machine-selection">
                <!-- Checkboxes will be dynamically loaded here based on brand selection -->
            </div>
            <div id="partsModulesContent" class="parts-modules-container">
                <p class="text-gray-600">Select one or more machines above to view their parts and modules.</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const brandSelectionPage = document.getElementById('brandSelectionPage');
            const mainContentPage = document.getElementById('mainContentPage');
            const brandCards = document.querySelectorAll('.brand-card');
            const backToBrandSelectionButton = document.getElementById('backToBrandSelection');

            const menuButtons = document.querySelectorAll('.menu-button');
            const contentSections = document.querySelectorAll('.content-section');

            const headerBrandLogo = document.getElementById('headerBrandLogo');
            const headerBrandWebsite = document.getElementById('headerBrandWebsite');
            const brandOverviewContent = document.getElementById('brandOverviewContent');

            const machineDetailsContent = document.getElementById('machineDetailsContent');
            const installationManualContent = document.getElementById('installationManualContent');
            const diagnosisSolutionContent = document.getElementById('diagnosisSolutionContent');
            const cleaningProceduresContent = document.getElementById('cleaningProceduresContent');
            const partsModulesContent = document.getElementById('partsModulesContent');


            let currentBrand = ''; // To store the currently selected brand

            // Brand-specific data including logo, website, and general overview for the brand
            const brandData = {
                'Franke': {
                    logo: 'https://github.com/jigsaw7474/Fiji-Coffee-Franke-A-line-Guide/blob/main/Franke.png?raw=true',
                    website: 'https://www.franke.com/us/en/home.html',
                    generalOverview: 'The Franke brand is synonymous with Swiss precision, innovative engineering, and timeless design in coffee systems. Franke coffee machines are engineered for demanding professional environments, delivering consistent, high-quality beverages with advanced features like FoamMaster® for perfect milk foam and iQFlow™ for optimal extraction. Their comprehensive range caters to diverse needs, from compact office solutions to high-volume commercial setups, all built with durability, ease of use, and hygiene in mind.'
                },
                'DallaCorte': {
                    logo: 'https://github.com/jigsaw7474/Fiji-Coffee-Franke-A-line-Guide/blob/main/Dalla%20Corte.png?raw=true',
                    website: 'https://www.dallacorte.com/',
                    generalOverview: 'Dalla Corte is an Italian brand at the forefront of espresso machine and grinder innovation. Known for pioneering multi-boiler technology and digital flow control, Dalla Corte machines ensure unparalleled temperature stability and extraction precision, empowering baristas to craft exceptional coffee. Their commitment to technology extends to grinders like the Max and Edge, which offer precise dosing and grind consistency. Dalla Corte represents a blend of Italian craftsmanship and cutting-edge performance, cherished by coffee professionals worldwide.'
                }
            };

            // Consolidated Data for Machines
            const machineData = {
                'A300': {
                    brand: 'Franke',
                    type: 'coffee_machine',
                    name: 'Franke A300',
                    general: 'The Franke A300 is a compact and powerful automatic coffee machine, ideal for smaller premises like offices and hotels with limited space but high demand for quality coffee. It features an an 8-inch intuitive touchscreen and an integrated, fully automatic descaling system.',
                    overview: {
                        boilers: 'Single',
                        grinders: '1-2 built-in',
                        milkSystem: 'FoamMaster®',
                        optionalAddons: 'Flavor station, milk cooler, powder module, cashless payment options',
                        powerVoltage: '120 V, -10 A (US standard) / 220–240 V (1LNPE 10A) / 100V (1LNPE 15A)',
                        dailyOutput: 'Up to 80 cups',
                        dimensions: '340mm W x 465mm H x 587mm D (with water tank)',
                        weight: '~27 kg (dry) / Approx. 25 kg (empty)'
                    },
                    water: {
                        supply: 'Tank (1.8L) or direct mains water connection. Cold water only. Filter recommended. Water hardness should not exceed 5°dH. A water softening filter is advised.',
                        drainage: 'Drip tray with optional hose connection. Suitable for locations without fixed drainage (with tank version).',
                        quality: 'Total Hardness: 70 – 140 ppm (mg/l), Carbonate hardness: 3 – 6° dH KH (50–105 ppm), pH: 6.5–7.5, Chlorine: < 0.5 mg/l, Chloride: < 30 mg/l, TDS: 30 – 150 ppm (mg/l), Electrical conductivity: 50 – 200 μS/cm, Iron Content: < 0.3 mg/l, Pressure: 80–800 kPa (0.8–8 bar), Flow rate: > 0.1 l/sec, Temperature: < 25°C.'
                    },
                    cleaning: {
                        daily: [
                            'Menu → Cleaning & Maintenance → Clean Coffee Machine',
                            'Rinse cycle runs for coffee circuit',
                            'Clean grounds bin, drip tray, and milk spout'
                        ],
                        weekly: [
                            'Remove spout/brew parts → soak in hot water + detergent',
                            'Milk system: Clean using Franke Milk Cleaning agent',
                            'Descale monthly depending on water quality'
                        ]
                    },
                    parts: {
                        brewUnit: 'Semi-fixed, but removable for manual cleaning',
                        grinders: '1-2 built-in ceramic grinders',
                        milkSystem: 'FoamMaster® for unlimited foam consistencies, EasyClean automatic cleaning system',
                        chocolateFlavor: 'Optional powder add-on',
                        coolingUnits: 'Compatible with SU03/SU05 cooling units',
                        touchDisplay: '8" touchscreen',
                        cleaningSystem: 'Manual & rinse, EasyClean (automatic cleaning system for milk, manual addition of cleaner), fully automatic descaling system'
                    },
                    installation: {
                        powerSupply: '120 V/10 A (US standard) / 220–240 V (1LNPE 10A)',
                        waterConnection: 'Mains (or internal tank), 3/8" compression fitting',
                        drainage: 'Optional hose or tank tray, Gravity slope ≥2%',
                        filtration: 'Recommended',
                        machineWeight: '~27 kg (dry)',
                        clearanceNeeded: 'Rear: 10 cm, Top: 15 cm',
                        ventilation: 'Natural airflow OK',
                        moduleIntegration: 'Milk cooler (SU03/SU05)'
                    },
                    diagnosis: {
                        'General/Power': [
                            { error: 'Machine not turning on', solution: '<strong>Check power cord, wall outlet, and main power switch.</strong> Ensure no visible damage to cable or plug. If issues persist, contact technician for internal fuse/wiring check.' },
                            { error: 'Unusual noises (gurgling, loud grinding)', solution: '<strong>Inspect internal components for loose parts or obstructions</strong> (e.g., stray coffee beans). Run rinse cycles to purge air. Perform descaling if it sounds like limescale buildup. If persistent, contact technician for mechanical inspection.' }
                        ],
                        'Brewing Unit': [
                            { error: 'No coffee dispensed / Coffee too watery or weak', solution: '<strong>Check grind size:</strong> It might be too coarse. Adjust to a finer setting. <strong>Ensure sufficient coffee beans/powder.</strong> Use fresh beans. Ensure brew unit is clean and free from coffee oils/debris. Remove and clean brewing unit thoroughly with hot water and scrubbing brush. For <strong>E79 Flowmeter Error</strong>, perform a double cleaning cycle with two tablets as prompted by the machine, then reinstall and restart.' },
                            { error: 'Brewing unit motor timeout (Errors 009-013)', solution: '<strong>Restart the system.</strong> Check the incremental sensor and motor. Clean the brewing unit with a brush to ensure smooth movement. If recurring, there might be an issue with the sensor wiring or motor.' },
                            { error: 'Brewing chamber open (Errors 048-049)', solution: '<strong>Select a new product</strong> – this often triggers a brewing unit recalibration. <strong>Check grind quantity:</strong> Too much or too little coffee can prevent proper closing. Review grinder calibration settings. Restart system if necessary.' }
                        ],
                        'Water System': [
                            { error: 'No water dispensing / Slow water flow', solution: '<strong>Check water supply valve (ensure it\'s fully open).</strong> Ensure water tank is full and correctly seated (if applicable). <strong>Clean/replace water filter</strong> if it\'s clogged. Perform descaling regularly to prevent limescale buildup, which restricts flow. Inspect visible water lines for blockages. If E79 error (flowmeter) persists, after cleaning brew unit, consider a technician.' },
                            { error: 'Water leaks near power cord or boiler', solution: '<strong>Immediately disconnect power.</strong> Identify the precise source of the leak. Tighten loose connections. <strong>Replace worn-out seals or gaskets.</strong> Limescale can also cause leaks by damaging components; regular descaling is key. If leakage persists or is severe, contact technician urgently.' },
                            { error: 'Flowmeter error (e.g., Errors 080, 087)', solution: '<strong>Restart the system</strong> or try dispensing a different product. <strong>Check the flow meter for obstructions.</strong> Ensure water shut-off valve is completely open. Verify stable water supply and check for any leakage in the water circuit.' },
                            { error: 'Needle valve / brewing unit tightness (Error 092)', solution: 'This indicates the needle valve in the iQFlow system cannot close, or the brewing unit isn\'t completely sealed. <strong>Check the brewing module for any obstructions or signs of leakage.</strong> Ensure it\'s correctly assembled after cleaning.' }
                        ],
                        'Milk System': [
                            { error: 'No or poor milk foam / Milk not dispensing', solution: '<strong>Thoroughly clean steam wand and nozzle after each use</strong> to prevent milk residue buildup. Perform automated milk system cleaning cycles (e.g., EasyClean) with approved Franke Milk Cleaning agent. <strong>Check milk temperature and type:</strong> Cold milk froths better. Ensure milk suction hose is clean, free of kinks, and properly submerged. Descale the milk system regularly to remove limescale affecting steam/foam quality.' }
                        ],
                        'Grinder Issues': [
                            { error: 'Grinder blocked / not grinding', solution: '<strong>Empty bean hopper and check for foreign objects</strong> (e.g., small stones) or very oily/dark beans that can clog. <strong>Clean the grinder regularly</strong> to prevent coffee grounds accumulation. If continuous, a motor or burr issue might require technician intervention.' },
                            { error: 'Inconsistent grind size / Bitter or sour coffee', solution: '<strong>Adjust grinder settings:</strong> Bitter coffee often means over-extraction (grind too fine), sour means under-extraction (grind too coarse). Experiment with slightly coarser/finer settings. <strong>Ensure fresh beans</strong> are used, as stale beans can grind inconsistently.' }
                        ]
                    }
                },
                'A400': {
                    brand: 'Franke',
                    type: 'coffee_machine',
                    name: 'Franke A400',
                    general: 'The Franke A400 is designed for sophisticated coffee experiences for all, adapting to changing needs. It offers modular brewing units (43E for espresso, 50E for volume, 50N for brewed coffee) and an optional CleanMaster system for automated cleaning.',
                    overview: {
                        boilers: 'Single modular',
                        grinders: '1-2 (+opt. 3rd)',
                        milkSystem: 'FoamMaster®',
                        optionalAddons: 'Powder dosing, flavor station, milk cooler, second milk type, cup warmer, cashless payment options',
                        powerVoltage: '208/240 V, single/three phase (10A, 13/15/16A, 30A)',
                        dailyOutput: 'Up to 100 cups',
                        dimensions: '340 mm W x 700 mm H x 600 mm D (with water tank)',
                        weight: '~38-45 kg'
                    },
                    water: {
                        supply: 'Cold mains connection with 3/4" fitting. Water pressure: 1-8 bar (0.1-0.8 MPa). Water temp: 5-35°C. High-quality filtration required. Water connection: 3/8” compression fitting.',
                        drainage: 'Tray-connected outlet. Overflow protection included. Gravity-based outlet, must be lower than base unit. Internal hose with overflow, Gravity drain ≥2%.',
                        quality: 'Total Hardness: 70 – 140 ppm (mg/l), Carbonate hardness: 3 – 6° dH CH (50–105 ppm), pH: 6.5–7.5, Chlorine: < 0.5 mg/l, Chloride: < 30 mg/l, TDS: 30 – 150 ppm (mg/l), Electrical conductivity: 50 – 200 μS/cm, Iron Content: < 0.3 mg/l, Pressure: 80–800 kPa (0.8–8 bar), Flow rate: > 0.1 l/sec, Temperature: < 25°C.'
                    },
                    cleaning: {
                        daily: [
                            'Rinse all product lines via menu',
                            'Wipe display, handles, nozzles with microfiber cloth'
                        ],
                        weekly: [
                            'Run CleanMaster full clean (automated)',
                            'Manual cleaning: remove brew group, soak, and brush',
                            'Clean milk lines using approved solution and rinse thoroughly'
                        ]
                    },
                    parts: {
                        brewUnit: 'Removable from the front, patented brewing unit (43E, 50E, 50N options)',
                        grinders: 'Up to 2 precision ceramic grinders',
                        milkSystem: 'FoamMaster® for barista-quality hot and cold foam, CleanMaster® fully automatic cleaning system',
                        chocolateFlavor: 'Up to two powder dosing units for milk and/or chocolate powder',
                        coolingUnits: 'Compatible with SU05 cooling unit',
                        touchDisplay: '8" color touchscreen',
                        cleaningSystem: 'CleanMaster®'
                    },
                    installation: {
                        powerSupply: '208-240 V (1/3 phase)',
                        waterConnection: '3/4" mains fitting',
                        drainage: 'Internal hose with overflow, Gravity drain ≥2%',
                        filtration: 'Required',
                        machineWeight: '~38-45 kg',
                        clearanceNeeded: 'Rear: 15 cm',
                        ventilation: 'Avoid heat trap',
                        moduleIntegration: 'Milk + flavor'
                    },
                    diagnosis: {
                        'General/Power': [
                            { error: 'Machine not turning on', solution: '<strong>Check power cord, wall outlet, and main power switch.</strong> Inspect for any visible damage. Ensure all connections are secure. If issues persist, it may be an internal electrical problem requiring a technician.' },
                            { error: 'Machine making unusual noises (e.g., buzzing, grinding)', solution: '<strong>Inspect internal components for loose parts or obstructions.</strong> Run rinse cycles. If a grinding noise persists, check the grinder for foreign objects or blockages. Descale if necessary. If abnormal noises continue, contact technician.' }
                        ],
                        'Brewing Unit': [
                            { error: 'No coffee dispensed / Coffee flow is slow or weak', solution: '<strong>Check grind size:</strong> Adjust to a finer setting if coffee is watery. <strong>Ensure sufficient coffee beans/powder</strong> and hoppers are not empty. Ensure brew unit is clean from coffee oils and debris. For <strong>E79 Flowmeter Error</strong>, remove and clean the brewing unit thoroughly. Perform a double tablet cleaning cycle (insert TWO tablets when prompted). Reinstall brew unit and restart the machine.' },
                            { error: 'Coffee tastes bitter or sour', solution: 'This indicates over-extraction (bitter, grind too fine) or under-extraction (sour, grind too coarse). <strong>Adjust grind size appropriately.</strong> Ensure you are using fresh beans. Run cleaning cycles to remove old coffee residue.' }
                        ],
                        'Water System': [
                            { error: 'No water dispensing / Low water pressure', solution: '<strong>Verify water supply valve is fully open.</strong> Check if the water filter is clogged and replace if needed (filtration is required for A400). Perform descaling to remove limescale. Inspect water lines for blockages. The <strong>E79 Flowmeter Error</strong> specifically points to a water flow disruption, so follow those steps.' },
                            { error: 'Water leaks (E.g., under machine, around brew unit)', solution: '<strong>Identify the exact source of the leak.</strong> This could be worn seals, loose connections, or internal component damage due to limescale. Tighten any visible loose fittings. Regular descaling is crucial. Disconnect power immediately if there’s a significant leak and contact a technician.' }
                        ],
                        'Milk System': [
                            { error: 'Milk not frothing correctly / No milk dispensed', solution: '<strong>Thoroughly clean the steam wand, milk frother, and nozzles after each use</strong> to prevent milk residue buildup. Perform daily and weekly CleanMaster milk cleaning cycles. Ensure milk is cold and fresh. Check that the milk suction hose is clean, not kinked, and properly submerged. Descale the milk system to clear limescale affecting performance.' }
                        ],
                        'Grinder Issues': [
                            { error: 'Grinder not working / Not grinding beans', solution: '<strong>Empty bean hoppers and check for foreign objects.</strong> Clean the grinder assembly to remove old coffee grounds or oily residue. If grinding occurs but is inconsistent, adjust the grind settings. Ensure hoppers are filled.' }
                        ]
                    }
                },
                'A600': {
                    brand: 'Franke',
                    type: 'coffee_machine',
                    name: 'Franke A600',
                    general: 'The Franke A600 brings innovation and taste together, offering an exceptional solution for service and self-service operations. It features FoamMaster® for perfect milk foam, iQFlow™ technology for optimal extraction, and a modular flavor station.',
                    overview: {
                        boilers: 'Single',
                        grinders: '2-3',
                        milkSystem: 'FoamMaster® + milk lines',
                        optionalAddons: 'Iced-coffee unit, flavor station (up to 3 flavors), cup warmer, dual milk options, powder containers',
                        powerVoltage: '208/240 V, commercial grade (10A, 13/15/16A, 30A)',
                        dailyOutput: 'Up to 150 cups',
                        dimensions: '340 x 730 x 600 mm (width x height x depth)',
                        weight: '~58-65 kg / Approx. 38 kg'
                    },
                    water: {
                        supply: 'Cold mains (10-30°C) via 3/4" inlet hose. Pressure: 1-8 bar. Uses flow meter and water hardness sensors. Water filtration system (e.g. BRITA Purity C150 or similar) highly recommended. Water connection: metal hose with G3/8” union nut.',
                        drainage: 'High-volume drain port for coffee, milk, and foam rinse water. Shared with optional modules (milk cooler, chocolate unit). Must ensure unimpeded flow and regular maintenance.',
                        quality: 'Total Hardness: 70 – 140 ppm (mg/l), Carbonate hardness: 3 – 6° dH CH (50–105 ppm), pH: 6.5–7.5, Chlorine: < 0.5 mg/l, Chloride: < 30 mg/l, TDS: 30 – 150 ppm (mg/l), Electrical conductivity: 50 – 200 μS/cm, Iron Content: < 0.3 mg/l, Pressure: 80–800 kPa (0.8–8 bar), Flow rate: > 0.1 l/sec, Temperature: < 25°C.'
                    },
                    cleaning: {
                        daily: [
                            'Coffee and milk system auto rinse at shutdown',
                            'Clean drip tray, grounds container, exterior touch surfaces'
                        ],
                        weekly: [
                            'Full CleanMaster cycle',
                            'Remove and clean foam nozzles, milk lines, iced-coffee attachment',
                            'Chocolate dispenser cleaning if applicable'
                        ],
                        monthly: [
                            'Descale boilers and hot water lines',
                            'Inspect gaskets, connectors, and clean grinder housing'
                        ]
                    },
                    parts: {
                        brewUnit: 'Removable, patented brew unit',
                        grinders: '2-3 precision ceramic grinders, 2 bean hoppers (1.2kg capacity each)',
                        milkSystem: 'FoamMaster™ (hot and cold milk & milk foam, adjustable consistency, integrated cleaning system)',
                        chocolateFlavor: 'One or two separate powder dosing systems',
                        coolingUnits: 'Compatible with SU05/SU12 cooling units',
                        touchDisplay: '8" or 10.4" intuitive touchscreen with video capability',
                        cleaningSystem: 'CleanMaster®'
                    },
                    installation: {
                        powerSupply: '208-240 V commercial grade',
                        waterConnection: '3/4" mains, 1-8 bar',
                        drainage: 'Shared drain (milk/choc), Clear high-volume outlet',
                        filtration: 'Strongly recommended',
                        machineWeight: '~58-65 kg',
                        clearanceNeeded: 'Rear: 15 cm',
                        ventilation: 'Ensure air vents clear',
                        moduleIntegration: 'Milk, choc, iced'
                    },
                    diagnosis: {
                        'General/Power': [
                            { error: 'Machine not turning on', solution: '<strong>Check power cord and connection to the wall outlet.</strong> Verify the main power switch is in the ON position. Inspect for any visible damage to the cable. If still off, contact a technician.' },
                            { error: 'E600 Maintenance Necessary alert', solution: 'This alert indicates that **scheduled preventative maintenance is due.** This is based on total cup count or time since last service. <strong>Contact an approved Franke service partner (e.g., Lawhill) to schedule this essential service.</strong> Ignoring it can lead to component wear, hygiene issues, and costly breakdowns.' },
                            { error: 'Unusual or loud operating noises', solution: '<strong>Listen to pinpoint the source.</strong> Could be grinder (foreign object, worn burrs), pump (air in lines, failing pump), or brew unit (clogged, misaligned). Perform cleaning cycles. If persistent and abnormal, technician inspection is recommended.' },
                            { error: 'Touchscreen unresponsive or frozen', solution: '<strong>Try a soft reset by restarting the machine.</strong> If the issue persists, ensure the screen is clean and free from moisture/debris. A hard reset (unplugging for a few minutes) might be needed, but if it recurs, it could indicate a display or control board issue requiring service.' }
                        ],
                        'Brewing Unit': [
                            { error: 'No coffee dispensed / Poor extraction (too weak/strong)', solution: '<strong>Verify coffee bean level in hoppers.</strong> Check that the grind size is appropriate (finer for strong, coarser for weak/fast flow). Ensure the removable brew unit is correctly seated and clean from old coffee residue. Perform machine cleaning cycles as prompted.' },
                            { error: 'Inconsistent beverage volume or temperature', solution: '<strong>Ensure water supply is stable and filtered (strongly recommended).</strong> Check for air in water lines (run hot water dispensing). Perform descaling if temperature fluctuations are noted. Verify coffee machine settings for desired volume/temperature are correctly programmed.' }
                        ],
                        'Water System': [
                            { error: 'No water dispensing / Water flow issues', solution: '<strong>Confirm the main water supply valve is fully open.</strong> Check if the external water filter is clogged and needs replacement (mandatory for A600). Descale the machine regularly to prevent limescale buildup in boilers and lines. Look for kinks or blockages in hoses.' },
                            { error: 'Water leaks from various points', solution: '<strong>Pinpoint the leak location.</strong> Common areas include drip tray connections, brew unit seals, or internal hoses. Tighten any loose connections. Worn gaskets or seals will need replacement. Frequent descaling reduces mineral buildup that can cause leaks. Contact technician if internal or persistent.' }
                        ],
                        'Milk System': [
                            { error: 'Milk not frothing / Poor milk foam quality', solution: '<strong>Perform daily and weekly CleanMaster cycles for the milk system diligently.</strong> Ensure milk nozzles and lines are clear of dried milk residue. Check milk temperature (should be cold) and fat content. Verify milk suction hose is clean, not kinked, and fully submerged in milk. Descaling of the milk system is important.' },
                            { error: 'Milk not dispensing from FoamMaster', solution: '<strong>Check milk hose for blockages or kinks.</strong> Ensure milk container is full and milk type is selected correctly. Run milk cleaning cycles multiple times. Inspect FoamMaster components for residue buildup. If issue persists, internal milk pump or valve might be affected.' }
                        ],
                        'Grinder Issues': [
                            { error: 'Grinder blocked / Beans not grinding', solution: '<strong>Empty bean hopper and inspect for foreign objects (stones, debris).</strong> Clean residual coffee grounds from the grinder. If bean flow is impeded, check the bean hopper outlet. If the motor sounds like it\'s struggling but not grinding, it may be a jammed burr or motor issue.' },
                            { error: 'Error related to grinder (e.g., too many increments)', solution: 'Refer to specific error codes on the display. Often relates to improper grind settings or bean type. <strong>Adjust grinder settings.</strong> Ensure bean quality is suitable for the machine. Perform system restart.' }
                        ],
                        'Chocolate/Flavor Issues': [
                            { error: 'Chocolate/Flavor not dispensing', solution: '<strong>Check if powder hoppers are empty.</strong> Ensure correct product is selected on the touchscreen. Perform automated cleaning cycles for the chocolate/flavor unit. Manually clean hoses and tanks weekly as per maintenance guide. Check for blockages in dispensing nozzles.' }
                        ]
                    }
                },
                'A800': {
                    brand: 'Franke',
                    type: 'coffee_machine',
                    name: 'Franke A800',
                    general: 'The Franke A800 is the ultimate multitasker, designed for high daily output and customization. It features a triple-boiler system, multiple grinders, and the advanced FoamMaster®. It offers brew-on-demand technology and gram-throw flexibility for diverse coffee preferences.',
                    overview: {
                        boilers: 'Triple-boiler',
                        grinders: 'Multiple',
                        milkSystem: 'FoamMaster®',
                        optionalAddons: 'Chocolate dispenser, flavor station (up to 3 syrups), under-counter cooler, cup warmer, coin/payment system, cashless payment options',
                        powerVoltage: '208-240 V, single or 3-phase (20/30A)',
                        dailyOutput: 'Up to 250 cups',
                        dimensions: '340mm W x 770mm H x 600mm D',
                        weight: '~75-95 kg / Approx. 58 kg'
                    },
                    water: {
                        supply: 'Requires stable cold mains line, 3/4" thread with safety shut-off valve. Integrated water hardness monitoring. Use of decalcification filter mandatory for warranty compliance. Water connection: 3/8” compression fitting.',
                        drainage: 'High-output drainage system for simultaneous drink prep. Modular support (chocolate/flavor/milk coolers) all use shared drain. Minimum hose incline: 2% for gravity draining; pump support recommended if not possible. Shared multi-module drain, Slope 22% or pump support.',
                        quality: 'Total Hardness: 70 – 140 ppm (mg/l), Carbonate hardness: 3 – 6° dH CH (50–105 ppm), pH: 6.5–7.5, Chlorine: < 0.5 mg/l, Chloride: < 30 mg/l, TDS: 30 – 150 ppm (mg/l), Electrical conductivity: 50 – 200 μS/cm, Iron Content: < 0.3 mg/l, Pressure: 80–800 kPa (0.8–8 bar), Flow rate: > 0.1 l/sec, Temperature: < 25°C.'
                    },
                    cleaning: {
                        daily: [
                            'Rinse via maintenance menu (coffee/milk/chocolate)',
                            'Remove and wipe powder hoppers, brew spouts',
                            'Clean touch display, cooler, and steam wand'
                        ],
                        weekly: [
                            'EasyClean deep cycle: Cleans milk, flavor, chocolate lines',
                            'Brew unit removal → soak and sanitize → reassemble',
                            'Clean coin/payment modules, suction hoses'
                        ],
                        monthly: [
                            'Deep descaling (with certified agent)',
                            'Clean air filter, rear vents, and internal fans',
                            'Perform system health check via UI diagnostics'
                        ]
                    },
                    parts: {
                        brewUnit: 'Full removable, patented brew unit',
                        grinders: 'Multiple bean hoppers (2 rear 2.5lb each, 1 front 1.3lb), iQFlow™ technology',
                        milkSystem: 'FoamMaster™ (hot/cold milk and milk foam, individually adjustable consistency, integrated cleaning system)',
                        chocolateFlavor: 'Chocolate dispenser, optional flavor station',
                        coolingUnits: 'Under-counter cooler options',
                        touchDisplay: '10.4" HD touchscreen with video capability',
                        cleaningSystem: 'EasyClean®'
                    },
                    installation: {
                        powerSupply: '208-240 V (1 or 3 phase)',
                        waterConnection: '3/4" mains, shut-off valve',
                        drainage: 'Shared multi-module drain, Slope 22% or pump support',
                        filtration: 'Mandatory',
                        machineWeight: '~75-95 kg',
                        clearanceNeeded: 'Rear: 20 cm',
                        ventilation: 'Clean monthly filters',
                        moduleIntegration: 'Milk, flavor, cooler, coin'
                    },
                    diagnosis: {
                        'General/Power': [
                            { error: 'Machine not turning on', solution: '<strong>Check power supply cable for damage, ensure proper plug connection, and verify main power is on.</strong> For triple-boiler systems, ensure adequate power supply. Do not operate if damaged. Contact service hotline if issue persists.' },
                            { error: 'Unusual or excessive noise during operation', solution: '<strong>Inspect internal components for loose parts or obstructions.</strong> High-volume usage can lead to more wear. Run rinsing cycles. Perform deep descaling monthly. If persistent or severe, contact technician for thorough inspection of pumps, grinders, or brew unit motor.' },
                            { error: 'Touchscreen unresponsive/glitching', solution: '<strong>Try restarting the machine.</strong> Ensure the screen is clean and dry. If issues persist, it may indicate a software or hardware problem with the display unit, requiring technical support.' }
                        ],
                        'Brewing Unit': [
                            { error: 'No coffee dispensed / Very poor coffee extraction (e.g., watery, weak)', solution: '<strong>Verify sufficient coffee beans in all hoppers and correct bean selection.</strong> Check that grind size is consistent and appropriate for the desired beverage. Ensure the brew unit is completely clean and correctly inserted after removal. Perform EasyClean deep cycles regularly. Check for error messages on the display related to brewing.' }
                        ],
                        'Water System': [
                            { error: 'No water or low water pressure', solution: '<strong>Verify water supply valve is fully open and water pressure is stable.</strong> Ensure the mandatory decalcification filter is not expired or clogged and replace if necessary. Descale all boilers and water lines monthly to prevent limescale. Check for any error codes related to water flow or boiler temperature on the display. Inspect for kinks in hoses.' },
                            { error: 'Water leaking from machine', solution: '<strong>Immediately investigate the source.</strong> High-output systems can experience more wear on seals. Ensure all shared drain connections (milk, flavor, chocolate) are secure and that the drain pipe has the recommended 22% slope. Replace any worn seals or gaskets. Contact technician for complex or internal leaks.' }
                        ],
                        'Milk System': [
                            { error: 'Milk not frothing / Poor quality foam / Milk not dispensing', solution: '<strong>Perform daily and weekly EasyClean deep cycles for the milk, flavor, and chocolate lines.</strong> Ensure milk suction hoses are clean, seals are intact, and milk is cold. Check for blockages in milk spouts and steam wands. Verify settings on FoamMaster for desired foam consistency. If multiple milk types are used, ensure the correct system is engaged.' },
                            { error: 'Milk temperature not consistent', solution: '<strong>Check milk cooler temperature settings and ensure the cooler unit is functioning properly.</strong> Verify proper milk hose connection and hygiene. Descale the milk system regularly.' }
                        ],
                        'Grinder Issues': [
                            { error: 'Grinder blocked / Beans not grinding / Inconsistent grind', solution: '<strong>Empty individual bean hoppers and check for foreign objects.</strong> Clean grinders thoroughly, especially with multiple hoppers and parallel grinding. Ensure adequate bean supply. If grind remains inconsistent or grinder is noisy, it might indicate worn ceramic burrs or a motor issue.' },
                            { error: 'Chocolate/Flavor units not dispensing', solution: '<strong>Check powder levels in hoppers.</strong> Ensure automated cleaning cycles are run for these modules. Perform separate weekly manual cleaning of hoses and tanks for flavor/chocolate. Check for blockages in dispensing nozzles and proper module integration.' }
                        ]
                    }
                },
                'MyticoDue': {
                    brand: 'Franke',
                    type: 'coffee_machine',
                    name: 'Franke Mytico Due',
                    general: 'The Franke Mytico Due is a high-end, automatic two-step beverage preparation machine designed for busy cafes, restaurants, and premium workplaces. It blends traditional Italian design with cutting-edge Swiss automation, offering barista-quality coffee with automated processes and an intuitive 8-inch touchscreen. Its low height enhances barista-customer interaction.',
                    overview: {
                        boilers: 'Multiple boilers (for coffee, hot water, and steam)', // Inferred from features
                        grinders: '4 precision ceramic grinders (2 per coffee module)',
                        milkSystem: 'Automatic steaming (Autosteam Pro S3) and manual (S1) steam wands, integrated milk system',
                        optionalAddons: 'Customizable side panels (6 colors), extended bean hoppers (2.4lb)',
                        powerVoltage: '2 x 208V (30A) - Requires two L6-30R receptacles (US spec)',
                        dailyOutput: 'Up to 300 cups',
                        dimensions: '925mm W x 610mm H x 644mm D',
                        weight: '~95 kg (empty) / Approx. 210 lbs',
                    },
                    water: {
                        supply: 'Stable cold mains connection, 3/4" thread with safety shut-off valve. Water temperature < 25°C. Mandatory use of decalcification filter for warranty compliance. Water connection: metal hose with G3/8” union nut.',
                        drainage: 'High-output drainage system (Dia. 16 mm / 0.62" drain hose). Minimum hose incline: 2% for gravity draining; pump support recommended if not possible.',
                        quality: 'Total Hardness: 70 – 140 ppm (mg/l), Carbonate hardness: 50 – 105 ppm (mg/l), pH: 6.5–7.5, Chlorine: < 0.5 mg/l, Chloride: < 30 mg/l, TDS: 30 – 150 ppm (mg/l), Electrical conductivity: 50 – 200 μS/cm, Iron Content: < 0.3 mg/l, Pressure: 80–800 kPa (0.8–8 bar), Flow rate: > 0.1 l/sec.'
                    },
                    cleaning: {
                        daily: [
                            'Insert one cleaning tablet into the coffee chute (lift rubber flap in front of bean hopper).',
                            'Place 400ml water with 30ml milk cleaner into a cleaning container under the steam wand.',
                            'Run the milk cleaning cycle as prompted by the machine.',
                            'Empty the cleaning container, fill with 500ml of clean water, and place back under the steam wand to rinse.',
                            'Clean the grounds bin and drip tray.',
                            'Wipe down exterior surfaces and touch display with a clean, soft cloth.'
                        ],
                        weekly: [
                            'Perform more in-depth cleaning cycles as prompted by the machine\'s maintenance menu.',
                            'Ensure all removable parts (e.g., brew unit if easily removable) are cleaned manually as per the full user manual.',
                            'Regular descaling is recommended based on water hardness and machine usage.'
                        ],
                        monthly: [
                            'Deep descaling (with certified agent) depending on usage and water quality.',
                            'Inspect and clean air filters if accessible.',
                            'Perform system health check via UI diagnostics.'
                        ]
                    },
                    parts: {
                        brewUnit: 'Dual coffee modules with individual brewing temperatures.',
                        grinders: '4 precision ceramic grinders (2 per coffee module).',
                        milkSystem: 'Autosteam Pro S3 (automatic) and S1 (manual) steam wands. Integrated milk system for reduced waste.',
                        chocolateFlavor: 'Optional flavor station (up to 3 syrups).',
                        coolingUnits: 'Compatible with under-counter cooler options.',
                        touchDisplay: '8" intuitive touchscreen with multimedia function.',
                        cleaningSystem: 'EasyClean (manual addition of cleaning solution).'
                    },
                    installation: {
                        powerSupply: '2 x 208V (30A) - Requires two L6-30R receptacles',
                        waterConnection: '3/4" mains with safety shut-off valve, G3/8” union nut fitting.',
                        drainage: 'Dedicated drain hose (Dia. 16 mm / 0.62"), minimum gravity slope 2% (pump support recommended if slope is insufficient).',
                        filtration: 'Mandatory decalcification filter.',
                        machineWeight: '~95 kg (empty) / Approx. 210 lbs',
                        clearanceNeeded: 'Adequate clearance for ventilation and access for servicing (specific values not found, but standard for commercial units).',
                        ventilation: 'Ensure proper airflow around the machine to prevent overheating.',
                        moduleIntegration: 'Supports integration with flavor stations, milk coolers, and payment systems.'
                    },
                    diagnosis: {
                        'General/Power': [
                            { error: 'Machine not powering on', solution: '<strong>Verify both power cords are securely plugged into the correct 208V (30A) L6-30R receptacles.</strong> Check circuit breakers. If no power, contact an electrician or certified technician.' },
                            { error: 'System error / Machine unresponsive (generic)', solution: '<strong>Attempt a soft reset by turning the machine off and on at the main power switch.</strong> If persistent, refer to the on-screen error code (if any) and consult the user manual or contact Franke service.' },
                            { error: 'Unusual loud noises during operation', solution: '<strong>Check for obstructions in bean hoppers and grinder paths.</strong> Listen to identify the source (grinder, pump, brew unit). Perform relevant cleaning cycles. If noise persists and is unusual, it may indicate a mechanical issue requiring technician inspection.' }
                        ],
                        'Brewing Unit / Coffee Quality': [
                            { error: 'No coffee dispensed / Coffee weak or watery', solution: '<strong>Ensure bean hoppers are filled and the correct blend is selected.</strong> Check grind consistency; adjust if too coarse. Perform a brewing unit cleaning cycle. If the brew unit is removable, ensure it\'s clean and correctly seated.' },
                            { error: 'Coffee tastes bitter or sour / Inconsistent flavor', solution: '<strong>Adjust grind size (finer for bitter, coarser for sour).</strong> Verify brewing temperature settings are appropriate for the coffee type. Ensure water quality meets Franke standards (check filter status). Run cleaning cycles to remove residual coffee oils.' },
                            { error: 'Slow coffee dispensing', solution: '<strong>Check water flow rate and pressure.</strong> Descale the coffee lines and brewing unit. Ensure grinder is not clogged and producing consistent grounds. If water pressure is low, verify main water supply and filter condition.' }
                        ],
                        'Water System': [
                            { error: 'No water or low water pressure', solution: '<strong>Confirm main water supply valve is fully open and water pressure is within 0.8-8 bar.</strong> Check that the mandatory decalcification filter is not expired or clogged. Look for kinks in the water supply hose. Ensure the internal flow meter is not obstructed.' },
                            { error: 'Water leaking from machine', solution: '<strong>Immediately disconnect power.</strong> Identify the source of the leak (e.g., hose connection, internal component). Leaks can be caused by worn seals or limescale buildup. Contact a technician for diagnosis and repair, especially if the leak is significant or internal.' }
                        ],
                        'Milk System (Autosteam Pro S3 / S1)': [
                            { error: 'No steam / Poor milk frothing quality', solution: '<strong>Ensure milk is cold and fresh.</strong> Thoroughly clean the Autosteam Pro S3 wand or S1 manual wand after each use to prevent milk residue buildup. Run the milk cleaning cycles diligently. Check milk suction hose for kinks, blockages, or proper seating in milk container. Descale the milk system if limescale buildup is suspected.' },
                            { error: 'Milk temperature issues', solution: '<strong>Verify settings for milk temperature.</strong> Ensure any connected milk cooler is functioning correctly and maintaining optimal milk temperature. If temperature is inconsistent, a sensor or heating element issue may require service.' }
                        ],
                        'Grinder Issues': [
                            { error: 'Grinder blocked / Beans not grinding', solution: '<strong>Empty individual bean hoppers and check for foreign objects.</strong> Clean grinders thoroughly, especially with multiple hoppers and parallel grinding. Ensure adequate bean supply. If grind remains inconsistent or grinder is noisy, it might indicate worn ceramic burrs or a motor issue.' },
                            { error: 'Error on touchscreen related to grinding', solution: '<strong>Follow on-screen prompts if specific error codes are displayed.</strong> Generally, this points to bean blockage, foreign objects, or a technical fault with the grinder components. Attempt a restart, clear beans, and clean thoroughly. If still present, contact technician.' }
                        ]
                    }
                },
                'Studio': {
                    brand: 'DallaCorte',
                    type: 'coffee_machine',
                    name: 'Dalla Corte Studio',
                    general: 'The Dalla Corte Studio is a compact, single-group professional espresso machine featuring multi-boiler technology. It is designed for consistency and quality, making it ideal for home baristas, small offices, and boutique cafés.',
                    overview: {
                        boilers: 'Multi-boiler (independent group and steam boilers)',
                        grinders: 'External grinder required',
                        milkSystem: 'Professional cool-touch steam wand',
                        optionalAddons: 'Various grinder options (Max, Edge), external water filter systems.',
                        powerVoltage: '220-240V, 2.6 kW',
                        dailyOutput: 'Ideal for low to medium volume',
                        dimensions: '321mm W x 390mm H x 400mm D',
                        weight: '27.5 kg'
                    },
                    water: {
                        supply: 'Internal 4L water tank or direct mains water connection. Cold water only. Recommended water pressure 1.5-3.5 bar.',
                        drainage: 'Removable drip tray, optional connection to direct drain.',
                        quality: 'Filtered water highly recommended for optimal taste and machine longevity. Total hardness: 70-140 ppm. pH: 6.5-7.5.'
                    },
                    cleaning: {
                        daily: [
                            'Perform group head backflushing with a blind filter and cleaning detergent.',
                            'Purge and wipe down the steam wand immediately after each milk frothing.',
                            'Empty and clean the drip tray and coffee grounds drawer.',
                            'Wipe down exterior surfaces with a damp cloth.'
                        ],
                        weekly: [
                            'Deep clean the group head: disassemble shower screen and dispersion block, soak in detergent, and scrub.',
                            'Soak portafilters and baskets in a coffee machine cleaning solution.',
                            'Check water tank (if used) for cleanliness and refill with fresh, filtered water.'
                        ],
                        monthly: [
                            'Backflush with descaling solution (if not connected to perfectly filtered mains water).',
                            'Inspect and clean the steam wand tip and internal passages.',
                            'Perform a thorough check of all seals and gaskets.'
                        ]
                    },
                    parts: {
                        brewUnit: 'Single group, temperature-stable independent boiler.',
                        grinders: 'External grinder required (e.g., Dalla Corte Max, Edge).',
                        milkSystem: 'Professional cool-touch steam wand for manual milk frothing.',
                        chocolateFlavor: 'N/A',
                        coolingUnits: 'N/A',
                        touchDisplay: 'Digital display for setting parameters.',
                        cleaningSystem: 'Manual cleaning procedures with detergent.'
                    },
                    installation: {
                        powerSupply: '220-240V, 2.6 kW. Standard single-phase connection.',
                        waterConnection: 'Can operate with internal tank or plumbed to mains water (3/8" connection recommended).',
                        drainage: 'Drip tray or optional direct drain connection (gravity drain).',
                        filtration: 'Highly recommended for warranty and performance.',
                        machineWeight: '27.5 kg',
                        clearanceNeeded: 'Adequate space for ventilation and access for refilling water tank or servicing.',
                        ventilation: 'Ensure good airflow around the machine.',
                        moduleIntegration: 'Designed to be paired with external grinders.'
                    },
                    diagnosis: {
                        'General/Power': [
                            { error: 'Machine not powering on', solution: '<strong>Check power cord and wall outlet.</strong> Ensure the main power switch is engaged. Verify circuit breaker. If still no power, contact a technician.' },
                            { error: 'Machine not heating up', solution: '<strong>Check power supply.</strong> Verify settings on the digital display for boiler temperatures. Could indicate a heating element or sensor issue; contact technician if persistent.' }
                        ],
                        'Brewing Unit / Coffee Quality': [
                            { error: 'No coffee dispensed / Slow extraction', solution: '<strong>Check water tank level or mains water supply.</strong> Ensure pump is running. Verify coffee grind size (too fine will choke the machine). Clean group head and shower screen for blockages.' },
                            { error: 'Coffee tastes bitter or sour', solution: '<strong>Adjust grind size:</strong> Too fine for bitter (over-extraction), too coarse for sour (under-extraction). Check brewing temperature. Ensure fresh coffee beans are used.' },
                            { error: 'Leaking from group head during extraction', solution: '<strong>Inspect the group head gasket for wear and tear; replace if cracked or stiff.</strong> Ensure portafilter is correctly locked in. Clean group head to remove coffee grounds preventing a proper seal.' }
                        ],
                        'Water System': [
                            { error: 'Water tank empty alert / No water flow', solution: '<strong>Refill water tank or verify mains water connection is open.</strong> Check for kinks in water lines. If applicable, check external water filter for clogging. Descale machine if limescale is suspected.' },
                            { error: 'Water leaks (general)', solution: '<strong>Identify the source:</strong> Loose fittings, worn O-rings or seals. Disconnect power and contact a technician for internal leaks. Regular descaling helps prevent seal degradation.' }
                        ],
                        'Steam System': [
                            { error: 'No steam / Weak steam pressure', solution: '<strong>Ensure the steam boiler is heated to temperature (check display).</strong> Purge steam wand tip for blockages. Descale the steam boiler and steam wand if limescale buildup is present. If issues persist, a solenoid valve or heating element may be faulty.' },
                            { error: 'Steam wand leaking', solution: '<strong>Check steam wand valve for proper closure.</strong> Inspect steam wand O-rings; replace if worn. A technician may be needed for internal valve issues.' }
                        ],
                        'Grinder Issues (external grinders)': [
                            { error: 'Coffee grind inconsistent / Grinder jammed (for external grinder)', solution: '<strong>Refer to specific grinder\'s troubleshooting guide.</strong> Typically involves checking for foreign objects, cleaning burrs, or adjusting grind settings. Ensure coffee beans are not too oily or stale.' }
                        ]
                    }
                },
                'Max': {
                    brand: 'DallaCorte',
                    type: 'grinder',
                    name: 'Dalla Corte Max Grinder',
                    general: 'The Dalla Corte Max grinder is an on-demand professional coffee grinder designed to deliver optimal consistency and grind quality for espresso. It features large flat burrs and programmable electronic dosing for precise control.',
                    overview: {
                        burrs: '64mm flat burrs',
                        motor: 'High-performance motor',
                        hopperCapacity: 'Approx. 600g',
                        dosing: 'Programmable electronic dosing',
                        dimensions: '160mm W x 470mm H x 240mm D',
                        weight: '10 kg'
                    },
                    installation: {
                        powerSupply: 'Standard electrical outlet (e.g., 220-240V).',
                        placement: 'Position on a stable, flat surface near the espresso machine with adequate ventilation.',
                        setup: 'Plug and play. No water connection needed.',
                        filtration: 'N/A',
                        machineWeight: '10 kg',
                        clearanceNeeded: 'Adequate space around for bean hopper access and cleaning.',
                        ventilation: 'Natural airflow sufficient for grinder operation.',
                        moduleIntegration: 'Designed as a standalone grinder for espresso machines.'
                    },
                    cleaning: {
                        daily: [
                            'Brush out the grinding chute to remove residual coffee grounds.',
                            'Wipe down the bean hopper and dose on-demand funnel.',
                            'Clean the exterior with a damp cloth.'
                        ],
                        weekly: [
                            'Empty the bean hopper and clean it thoroughly with a dry cloth.',
                            'Use a grinder brush or vacuum to clean around the burrs (without full disassembly).'
                        ],
                        monthly: [
                            'Professional cleaning and burr inspection by a technician recommended.',
                            'Check burr alignment and wear if grind consistency declines.'
                        ]
                    },
                    parts: {
                        burrs: '64mm flat burrs for precise grinding.',
                        hopper: '600g bean hopper.',
                        dosingMechanism: 'Electronic, on-demand dosing system.',
                        housing: 'Durable metal casing.',
                        display: 'Simple digital display for dose programming.'
                    },
                    diagnosis: {
                        'Grinding Issues': [
                            { error: 'Grinder jammed / Not grinding', solution: '<strong>Immediately switch off. Empty bean hopper and check for foreign objects (stones, debris).</strong> If no foreign objects, gently try to clear jammed beans from the burrs using a brush (ensure grinder is off and unplugged). If still jammed, professional service may be required for burr inspection or motor issue.' },
                            { error: 'Inconsistent grind size / Dose inaccuracy', solution: '<strong>Check burr calibration and adjustment settings.</strong> Ensure bean hopper is not running too low. Clean burrs from old coffee residue. If burrs are old or worn, they may need replacement.' },
                            { error: 'No coffee dispensing when activated', solution: '<strong>Check bean hopper for sufficient beans.</strong> Ensure grinding mechanism is not jammed. Verify dose programming is active and correct. Check power supply to the grinder.' }
                        ],
                        'Motor/Power Issues': [
                            { error: 'Grinder not turning on', solution: '<strong>Verify power cable connection to the wall outlet.</strong> Check main power switch on the grinder. Try a different outlet. If still no power, an internal electrical fault may be present; contact technician.' },
                            { error: 'Unusual motor noise (e.g., straining)', solution: '<strong>This often indicates a jam or motor stress.</strong> Turn off immediately, clear beans, and inspect burr area. If noise persists without jamming, the motor may be failing; contact a technician.' }
                        ]
                    }
                },
                'Edge': {
                    brand: 'DallaCorte',
                    type: 'grinder',
                    name: 'Dalla Corte Edge Grinder',
                    general: 'The Dalla Corte Edge is a revolutionary professional coffee grinder known for its innovative parallel burr technology, digital motor, and real-time grind adjustment. It ensures superior consistency and minimal heat transfer, making it ideal for high-volume, precision-focused coffee environments.',
                    overview: {
                        burrs: '80mm parallel burrs',
                        motor: 'Digital motor with speed control',
                        hopperCapacity: '1.5 kg (beans), 0.5 kg (ground coffee)',
                        dosing: 'Electronic dosing with real-time grind adjustment',
                        dimensions: '220mm W x 610mm H x 350mm D',
                        weight: '18 kg'
                    },
                    installation: {
                        powerSupply: 'Dedicated electrical circuit (e.g., 220-240V).',
                        placement: 'Position on a stable, flat surface near the espresso machine with adequate ventilation.',
                        setup: 'Professional installation recommended due to advanced features and commercial use.',
                        filtration: 'N/A',
                        machineWeight: '18 kg',
                        clearanceNeeded: 'Adequate space for bean hopper access, display interaction, and ventilation around the motor.',
                        ventilation: 'Ensure good airflow, especially for high-volume use to manage heat from the digital motor.',
                        moduleIntegration: 'Designed for seamless integration with high-end espresso machines (e.g., Dalla Corte multi-boiler models).'
                    },
                    cleaning: {
                        daily: [
                            'Brush out the grinding chute and dispensing area frequently.',
                            'Wipe down the touchscreen and exterior surfaces.',
                            'Ensure the bean hopper is free of old beans/oils.'
                        ],
                        weekly: [
                            'Empty and thoroughly clean the bean hopper.',
                            'Clean around the burr area with a brush (as per manual, without full disassembly).',
                            'Check for any build-up in the ground coffee container/exit point.'
                        ],
                        monthly: [
                            'Professional cleaning and inspection of parallel burrs and digital motor are highly recommended.',
                            'Check calibration and consistency settings via the touchscreen menu.'
                        ]
                    },
                    parts: {
                        burrs: '80mm parallel burrs for consistent particle distribution.',
                        motor: 'Digital motor for precise speed control and consistent grinding.',
                        hopper: 'Large capacity bean hopper (1.5 kg).',
                        display: 'Advanced touchscreen interface for control and adjustments.',
                        dosingSystem: 'Real-time electronic dosing for accuracy.'
                    },
                    diagnosis: {
                        'Grinding Issues': [
                            { error: 'Grinder jammed / Beans not feeding', solution: '<strong>Switch off and unplug. Remove bean hopper and inspect for foreign objects (e.g., stones).</strong> Clear any blockages in the grinding chamber or chute. If still jammed or motor sounds stressed, contact a technician as parallel burrs require precise handling.' },
                            { error: 'Inconsistent grind quality / Excessive fines', solution: '<strong>Check grind adjustment settings on the touchscreen; fine-tune as needed.</strong> Ensure burrs are clean. If consistency problems persist, the burrs may be worn or misaligned, requiring professional recalibration or replacement.' },
                            { error: 'Grinder not dispensing coffee', solution: '<strong>Verify bean supply in hopper.</strong> Check for blockages in the dispensing chute. Ensure dose settings are correctly programmed and the grinder is receiving power and commands from the espresso machine (if integrated).' }
                        ],
                        'Electronic/Motor Issues': [
                            { error: 'Grinder not turning on / Display unresponsive', solution: '<strong>Check power connection and dedicated circuit breaker.</strong> Attempt a soft restart. If the touchscreen is completely black or unresponsive, it might indicate a control board or display issue; contact technician.' },
                            { error: 'Digital motor error codes', solution: '<strong>Refer to specific error codes displayed on the touchscreen.</strong> These codes provide diagnostic information. Follow the manual\'s instructions for the specific code or contact Franke/Dalla Corte service with the error code details.' },
                            { error: 'Unusual sounds from motor (e.g., grinding, high-pitched whine)', solution: '<strong>Turn off immediately.</strong> This could indicate burr damage, motor overload, or a bearing issue. Do not operate. Contact a professional technician for assessment and repair.' }
                        ]
                    }
                }
            };

            // Function to dynamically create and display checkboxes
            function displayMachineCheckboxes(targetElementId) {
                const container = document.getElementById(targetElementId);
                container.innerHTML = ''; // Clear previous checkboxes

                // Add "Select All" checkbox
                const selectAllCheckbox = document.createElement('label');
                selectAllCheckbox.innerHTML = `<input type="checkbox" id="selectAll${targetElementId.replace('SelectionCheckboxes', '')}Machines"> Select All`;
                container.appendChild(selectAllCheckbox);

                const modelsForBrand = Object.keys(machineData).filter(key => machineData[key].brand === currentBrand);

                modelsForBrand.forEach(machineKey => {
                    const data = machineData[machineKey];
                    const label = document.createElement('label');
                    label.innerHTML = `<input type="checkbox" class="${targetElementId.replace('SelectionCheckboxes', '')}-checkbox" value="${machineKey}"> ${data.name}`;
                    container.appendChild(label);
                });

                // Attach event listeners for newly created checkboxes
                const checkboxes = container.querySelectorAll(`.${targetElementId.replace('SelectionCheckboxes', '')}-checkbox`);
                const selectAll = container.querySelector(`#selectAll${targetElementId.replace('SelectionCheckboxes', '')}Machines`);

                if (selectAll) {
                    selectAll.addEventListener('change', (event) => {
                        checkboxes.forEach(checkbox => {
                            checkbox.checked = event.target.checked;
                        });
                        // Call respective update function based on targetElementId
                        if (targetElementId === 'machineSelectionCheckboxes') updateMachineDetailsContent();
                        else if (targetElementId === 'installationSelectionCheckboxes') updateInstallationManualContent();
                        else if (targetElementId === 'diagnosisSelectionCheckboxes') updateDiagnosisSolutionContent();
                        else if (targetElementId === 'cleaningSelectionCheckboxes') updateCleaningProceduresContent();
                        else if (targetElementId === 'partsSelectionCheckboxes') updatePartsModulesContent();
                    });
                }

                checkboxes.forEach(checkbox => {
                    checkbox.addEventListener('change', () => {
                        // Call respective update function based on targetElementId
                        if (targetElementId === 'machineSelectionCheckboxes') updateMachineDetailsContent();
                        else if (targetElementId === 'installationSelectionCheckboxes') updateInstallationManualContent();
                        else if (targetElementId === 'diagnosisSelectionCheckboxes') updateDiagnosisSolutionContent();
                        else if (targetElementId === 'cleaningSelectionCheckboxes') updateCleaningProceduresContent();
                        else if (targetElementId === 'partsSelectionCheckboxes') updatePartsModulesContent();
                    });
                });
            }


            // Function to update content based on selected machines in "Machine Details"
            function updateMachineDetailsContent() {
                const checkboxes = document.querySelectorAll('#machineSelectionCheckboxes .machine-checkbox');
                const selectedMachines = Array.from(checkboxes)
                    .filter(checkbox => checkbox.checked)
                    .map(checkbox => checkbox.value);

                machineDetailsContent.innerHTML = ''; // Clear previous content

                if (selectedMachines.length === 0) {
                    machineDetailsContent.innerHTML = '<p class="text-gray-600">Select one or more machines above to view their detailed specifications.</p>';
                    return;
                }

                selectedMachines.forEach(machineKey => {
                    const data = machineData[machineKey];
                    if (data && data.brand === currentBrand) { // Ensure displaying only for current brand
                        const machineDiv = document.createElement('div');
                        machineDiv.classList.add('p-4', 'mb-4', 'rounded-lg', 'bg-white', 'shadow-md');
                        let contentHtml = `
                            <h3 class="text-2xl font-bold text-blue-700 mb-2 border-b-2 border-blue-400 pb-2">${data.name}</h3>
                            <p>${data.general}</p>

                            <h4>Overview:</h4>
                            <table class="w-full text-sm">
                                <tbody>
                        `;
                        for (const key in data.overview) {
                            contentHtml += `<tr><td class="font-semibold">${key.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase())}:</td><td>${data.overview[key]}</td></tr>`;
                        }
                        contentHtml += `
                                </tbody>
                            </table>

                            ${data.water ? `
                                <h4>Water Supply & Drainage:</h4>
                                <ul>
                                    <li><strong>Supply:</strong> ${data.water.supply}</li>
                                    <li><strong>Drainage:</strong> ${data.water.drainage}</li>
                                    <li><strong>Water Quality Requirements:</strong> ${data.water.quality}</li>
                                </ul>
                            ` : ''}
                        `;
                        machineDiv.innerHTML = contentHtml;
                        machineDetailsContent.appendChild(machineDiv);
                    }
                });
            }

            // Function to update installation content based on selected machines
            function updateInstallationManualContent() {
                const checkboxes = document.querySelectorAll('#installationSelectionCheckboxes .installation-checkbox');
                const selectedMachines = Array.from(checkboxes)
                    .filter(checkbox => checkbox.checked)
                    .map(checkbox => checkbox.value);

                installationManualContent.innerHTML = ''; // Clear previous content

                if (selectedMachines.length === 0) {
                    installationManualContent.innerHTML = '<p class="text-gray-600">Select one or more machines above to view their installation details.</p>';
                    return;
                }

                selectedMachines.forEach(machineKey => {
                    const data = machineData[machineKey];
                    if (data && data.brand === currentBrand && data.installation) { // Ensure displaying only for current brand
                        const installationDiv = document.createElement('div');
                        installationDiv.classList.add('p-4', 'mb-4', 'rounded-lg', 'bg-white', 'shadow-md');
                        let contentHtml = `
                            <h3 class="text-2xl font-bold text-blue-700 mb-2 border-b-2 border-blue-400 pb-2">${data.name} - Installation Summary</h3>
                            <table class="w-full text-sm">
                                <tbody>
                        `;
                        for (const key in data.installation) {
                            contentHtml += `<tr><td class="font-semibold">${key.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase())}:</td><td>${data.installation[key]}</td></tr>`;
                        }
                        contentHtml += `
                                </tbody>
                            </table>
                            <h4 class="font-semibold mt-4">Technician Checklist Before Power On (General):</h4>
                            <ul class="list-disc list-inside">
                                <li>Confirm correct voltage & amperage rating</li>
                                <li>Secure water inlet & install filter (if required)</li>
                                <li>Test drain connection (check for leaks)</li>
                                <li>Verify level placement and adjust machine feet</li>
                                <li>Confirm all modules connected (cooler, flavor, choc)</li>
                                <li>Prime water circuit and purge air</li>
                                <li>Connect milk suction hose (if applicable)</li>
                                <li>Power on and complete setup wizard</li>
                                <li>Run initial rinse & test espresso extraction</li>
                            </ul>
                        `;
                        installationDiv.innerHTML = contentHtml;
                        installationManualContent.appendChild(installationDiv);
                    }
                });
            }

            // Function to update diagnosis content based on selected machines
            function updateDiagnosisSolutionContent() {
                const checkboxes = document.querySelectorAll('#diagnosisSelectionCheckboxes .diagnosis-checkbox');
                const selectedMachines = Array.from(checkboxes)
                    .filter(checkbox => checkbox.checked)
                    .map(checkbox => checkbox.value);

                diagnosisSolutionContent.innerHTML = ''; // Clear previous content

                if (selectedMachines.length === 0) {
                    diagnosisSolutionContent.innerHTML = '<p class="text-gray-600">No machine selected. Please select a machine to see common errors.</p>';
                    return;
                }

                selectedMachines.forEach(machineKey => {
                    const data = machineData[machineKey];
                    if (data && data.brand === currentBrand && data.diagnosis) { // Ensure displaying only for current brand
                        const machineDiagnosisDiv = document.createElement('div');
                        machineDiagnosisDiv.classList.add('p-4', 'mb-4', 'rounded-lg', 'bg-white', 'shadow-md');
                        machineDiagnosisDiv.innerHTML = `
                            <h3 class="text-2xl font-bold text-blue-700 mb-4 border-b-2 border-blue-400 pb-2">${data.name} - Common Errors & Solutions</h3>
                        `;

                        // Get all unique error categories for this machine and sort them
                        const categoriesForThisMachine = Object.keys(data.diagnosis).sort();

                        categoriesForThisMachine.forEach(category => {
                            if (data.diagnosis[category] && data.diagnosis[category].length > 0) {
                                machineDiagnosisDiv.innerHTML += `
                                    <h4 class="text-xl font-semibold text-gray-700 mt-4 mb-2">${category} Issues:</h4>
                                    ${data.diagnosis[category].map(item => `
                                        <div class="error-item">
                                            <h5 class="text-lg font-bold text-red-600">${item.error}</h5>
                                            <p><strong class="text-gray-800">Solution:</strong> ${item.solution}</p>
                                        </div>
                                    `).join('')}
                                `;
                            }
                        });
                        diagnosisSolutionContent.appendChild(machineDiagnosisDiv);
                    }
                });
            }

            // Function to update cleaning procedures content based on selected machines
            function updateCleaningProceduresContent() {
                const checkboxes = document.querySelectorAll('#cleaningSelectionCheckboxes .cleaning-checkbox');
                const selectedMachines = Array.from(checkboxes)
                    .filter(checkbox => checkbox.checked)
                    .map(checkbox => checkbox.value);

                cleaningProceduresContent.innerHTML = ''; // Clear previous content

                if (selectedMachines.length === 0) {
                    cleaningProceduresContent.innerHTML = '<p class="text-gray-600">Select one or more machines above to view their cleaning procedures.</p>';
                    return;
                }

                selectedMachines.forEach(machineKey => {
                    const data = machineData[machineKey];
                    if (data && data.brand === currentBrand && data.cleaning) {
                        const cleaningDiv = document.createElement('div');
                        cleaningDiv.classList.add('p-4', 'mb-4', 'rounded-lg', 'bg-white', 'shadow-md');
                        let contentHtml = `
                            <h3 class="text-2xl font-bold text-blue-700 mb-2 border-b-2 border-blue-400 pb-2">${data.name} - Cleaning Procedures</h3>
                            <h4 class="font-semibold mt-2">Daily:</h4>
                            <ol class="list-decimal list-inside">
                                ${data.cleaning.daily.map(item => `<li>${item}</li>`).join('')}
                            </ol>
                            <h4 class="font-semibold mt-2">Weekly:</h4>
                            <ol class="list-decimal list-inside">
                                ${data.cleaning.weekly.map(item => `<li>${item}</li>`).join('')}
                            </ol>
                        `;
                        if (data.cleaning.monthly) {
                            contentHtml += `<h4 class="font-semibold mt-2">Monthly/As Needed:</h4><ul class="list-disc list-inside">${data.cleaning.monthly.map(item => `<li>${item}</li>`).join('')}</ul>`;
                        }
                        cleaningDiv.innerHTML = contentHtml;
                        cleaningProceduresContent.appendChild(cleaningDiv);
                    }
                });
            }

            // Function to update parts and modules content based on selected machines
            function updatePartsModulesContent() {
                const checkboxes = document.querySelectorAll('#partsSelectionCheckboxes .parts-checkbox');
                const selectedMachines = Array.from(checkboxes)
                    .filter(checkbox => checkbox.checked)
                    .map(checkbox => checkbox.value);

                partsModulesContent.innerHTML = ''; // Clear previous content

                if (selectedMachines.length === 0) {
                    partsModulesContent.innerHTML = '<p class="text-gray-600">Select one or more machines above to view their parts and modules.</p>';
                    return;
                }

                selectedMachines.forEach(machineKey => {
                    const data = machineData[machineKey];
                    if (data && data.brand === currentBrand && data.parts) {
                        const partsDiv = document.createElement('div');
                        partsDiv.classList.add('p-4', 'mb-4', 'rounded-lg', 'bg-white', 'shadow-md');
                        let contentHtml = `
                            <h3 class="text-2xl font-bold text-blue-700 mb-2 border-b-2 border-blue-400 pb-2">${data.name} - Parts & Modules</h3>
                            <ul>
                        `;
                        for (const key in data.parts) {
                            contentHtml += `<li><strong>${key.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase())}:</strong> ${data.parts[key]}</li>`;
                        }
                        contentHtml += `</ul>`;

                        partsDiv.innerHTML = contentHtml;
                        partsModulesContent.appendChild(partsDiv);
                    }
                });

                // Add general notes at the end of the parts section if any machine is selected
                if (selectedMachines.length > 0) {
                    const generalNotesDiv = document.createElement('div');
                    generalNotesDiv.classList.add('p-4', 'mb-4', 'rounded-lg', 'bg-white', 'shadow-md');
                    generalNotesDiv.innerHTML = `
                        <h3 class="text-2xl font-bold text-blue-700 mb-2 border-b-2 border-blue-400 pb-2">Important Notes for Installation and Maintenance:</h3>
                        <ul>
                            <li>Use only Franke/Dalla Corte-certified cleaning agents to prevent damage or voiding warranty.</li>
                            <li>Set cleaning reminders based on beverage output volume.</li>
                            <li>Maintain water quality logs if used in a HACCP-compliant environment.</li>
                            <li>For installations, ensure:
                                <ul>
                                    <li>Drain pipe slope ≥2% (Franke) / ≥2% (Dalla Corte if direct drain)</li>
                                    <li>Easy access to water shutoff</li>
                                    <li>Clear ventilation behind the unit</li>
                                </ul>
                            </li>
                        </ul>
                    `;
                    partsModulesContent.appendChild(generalNotesDiv);
                }
            }


            // Function to handle brand selection
            function selectBrand(brand) {
                currentBrand = brand;
                brandSelectionPage.style.display = 'none';
                mainContentPage.style.display = 'flex';

                // Update header with selected brand's logo and website
                headerBrandLogo.src = brandData[currentBrand].logo;
                headerBrandLogo.alt = `${currentBrand} Logo`;
                headerBrandWebsite.href = brandData[currentBrand].website;
                headerBrandWebsite.textContent = brandData[currentBrand].website.replace(/(^\w+:|^)\/\//, ''); // Display without protocol

                // Update the General Overview section with brand-specific overview
                brandOverviewContent.textContent = brandData[currentBrand].generalOverview;

                // Trigger click on General Overview to show initial content
                document.querySelector('.menu-button[data-target="overview"]').click();

                // Dynamically load checkboxes based on the selected brand for all relevant sections
                displayMachineCheckboxes('machineSelectionCheckboxes');
                displayMachineCheckboxes('installationSelectionCheckboxes');
                displayMachineCheckboxes('diagnosisSelectionCheckboxes');
                displayMachineCheckboxes('cleaningSelectionCheckboxes');
                displayMachineCheckboxes('partsSelectionCheckboxes');
            }

            // Event listeners for brand cards
            brandCards.forEach(card => {
                card.addEventListener('click', () => {
                    selectBrand(card.dataset.brand);
                });
            });

            // Event listener for "Back to Brands" button
            backToBrandSelectionButton.addEventListener('click', () => {
                mainContentPage.style.display = 'none';
                brandSelectionPage.style.display = 'flex';
                currentBrand = ''; // Reset selected brand

                // Reset content areas and checkboxes when going back to brand selection
                machineDetailsContent.innerHTML = '<p class="text-gray-600">Select one or more machines above to view their detailed specifications.</p>';
                installationManualContent.innerHTML = '<p class="text-gray-600">Select one or more machines above to view their installation details.</p>';
                diagnosisSolutionContent.innerHTML = '<p class="text-gray-600">No machine selected. Please select a machine to see common errors.</p>';
                cleaningProceduresContent.innerHTML = '<p class="text-gray-600">Select one or more machines above to view their cleaning procedures.</p>';
                partsModulesContent.innerHTML = '<p class="text-gray-600">Select one or more machines above to view their parts and modules.</p>';

                document.getElementById('machineSelectionCheckboxes').innerHTML = '';
                document.getElementById('installationSelectionCheckboxes').innerHTML = '';
                document.getElementById('diagnosisSelectionCheckboxes').innerHTML = '';
                document.getElementById('cleaningSelectionCheckboxes').innerHTML = '';
                document.getElementById('partsSelectionCheckboxes').innerHTML = '';
            });


            // Menu button functionality
            menuButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Remove active class from all buttons
                    menuButtons.forEach(btn => btn.classList.remove('active'));
                    // Add active class to the clicked button
                    button.classList.add('active');

                    // Hide all content sections
                    contentSections.forEach(section => section.classList.remove('active'));
                    // Show the target content section
                    const targetId = button.dataset.target;
                    document.getElementById(targetId).classList.add('active');

                    // If navigating to a machine-specific tab, ensure checkboxes are loaded for the current brand
                    if (['machineDetails', 'installationManual', 'diagnosisSolution', 'cleaning', 'parts'].includes(targetId)) {
                        let checkboxContainerId;
                        let updateFunction;

                        if (targetId === 'machineDetails') {
                            checkboxContainerId = 'machineSelectionCheckboxes';
                            updateFunction = updateMachineDetailsContent;
                        } else if (targetId === 'installationManual') {
                            checkboxContainerId = 'installationSelectionCheckboxes';
                            updateFunction = updateInstallationManualContent;
                        } else if (targetId === 'diagnosisSolution') {
                            checkboxContainerId = 'diagnosisSelectionCheckboxes';
                            updateFunction = updateDiagnosisSolutionContent;
                        } else if (targetId === 'cleaning') {
                            checkboxContainerId = 'cleaningSelectionCheckboxes';
                            updateFunction = updateCleaningProceduresContent;
                        } else if (targetId === 'parts') {
                            checkboxContainerId = 'partsSelectionCheckboxes';
                            updateFunction = updatePartsModulesContent;
                        }

                        displayMachineCheckboxes(checkboxContainerId);
                        updateFunction(); // Re-trigger content update to show placeholders if nothing selected
                    }
                });
            });

            // Initial setup: The brand selection page is visible by default, main content page is hidden
            mainContentPage.style.display = 'none';
            brandSelectionPage.style.display = 'flex'; // Ensure it's explicitly set to flex to be visible

        });
    </script>
</body>
</html>
